{
  "version": 3,
  "file": "scene-button.js",
  "sourceRoot": "../../",
  "sources": [
    "www/js/scene-button.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "class App.SceneButton extends App.Tile\r\n\tconstructor: (tileDef) ->\r\n\t\tsuper(tileDef)\r\n\t\t@buttonMarginX = 45\r\n\t\t@iconSize = [0,0]\r\n\t\t@fontPixels = 40\r\n\t\t@iconCellWidth = 80\r\n\t\treturn\r\n\r\n\taddToDoc: (elemToAddTo) ->\r\n\t\tsuper(elemToAddTo)\r\n\t\t@contents.append \"\"\"\r\n\t\t\t<div class=\"sqSceneButtonIcon\" style=\"position:absolute\"></div>\r\n\t\t\t<div class=\"sqSceneButtonText\" style=\"position:absolute; font-size: #{@fontPixels}px;\"></div>\r\n\t\t\t\"\"\"\r\n\t\ticonName = @tileDef.iconName\r\n\t\tif iconName is null\r\n\t\t\ticonName = \"\"\r\n\t\t@setIcon(iconName)\r\n\t\t@setText(@tileDef.tileText)\r\n\t\treturn\r\n\r\n\treposition: (@posX, @posY, @sizeX, @sizeY) ->\r\n\t\tsuper(@posX, @posY, @sizeX, @sizeY)\r\n\t\ticonSel = '#'+@tileId + \" .sqSceneButtonIcon\"\r\n\t\ttextSel = '#'+@tileId + \" .sqSceneButtonText\"\r\n\t\t# Handle position with icon\r\n\t\tif @iconSize[0] isnt 0\r\n\t\t\ticonHeight = @sizeY / 2\t\r\n\t\t\ticonWidth = iconHeight * @iconSize[0] / @iconSize[1]\r\n\t\t\tif @tileDef.iconX is \"centre\"\r\n\t\t\t\ticonX = (@sizeX-iconWidth)/2\r\n\t\t\t\t@setPositionCss(iconSel, iconX, (@sizeY-iconHeight)/2, iconWidth, iconHeight)\r\n\t\t\telse\r\n\t\t\t\ticonX = (@iconCellWidth - iconWidth)/2\r\n\t\t\t\t@setPositionCss(iconSel, iconX, (@sizeY-iconHeight)/2, iconWidth, iconHeight)\r\n\t\t\t\ttxtHeight = $(textSel).height()\r\n\t\t\t\ttextLeftX = @iconCellWidth\r\n\t\t\t\t@setPositionCss(textSel, textLeftX, (@sizeY-txtHeight)/2)\r\n\t\t\t\ttxtWidth = $(textSel).width()\r\n\t\t\t\ttxtCellWidth = @sizeX - textLeftX - @buttonMarginX\r\n\t\t\t\tif txtWidth > txtCellWidth\r\n\t\t\t\t\tfontScaling = txtCellWidth / txtWidth\r\n\t\t\t\t\t$(textSel).css\r\n\t\t\t\t\t\tfontSize: (fontScaling * @fontPixels) + \"px\"\r\n\t\t\t\ttxtHeight = $(textSel).height()\r\n\t\t\t\t@setPositionCss(textSel, textLeftX, (@sizeY-txtHeight)/2)\r\n\t\telse\r\n\t\t\t# No icon so centre text\r\n\t\t\ttxtHeight = $(textSel).height()\r\n\t\t\t$(textSel).css\r\n\t\t\t\ttextAlign: \"center\"\r\n\t\t\t@setPositionCss(textSel, 0, (@sizeY-txtHeight)/2)\r\n\t\t\ttxtWidth = $(textSel).width()\r\n\t\t\ttxtCellWidth = @sizeX - @buttonMarginX*1.6\r\n\t\t\tif txtWidth > txtCellWidth\r\n\t\t\t\tfontScaling = txtCellWidth / txtWidth\r\n\t\t\t\t$(textSel).css\r\n\t\t\t\t\tfontSize: (fontScaling * @fontPixels) + \"px\"\r\n\t\t\ttxtWidth = $(textSel).width()\r\n\t\t\ttxtHeight = $(textSel).height()\r\n\t\t\t@setPositionCss(textSel, (@sizeX-txtWidth)/2, (@sizeY-txtHeight)/2)\r\n\t\treturn\r\n\r\n\tsetIcon: (iconName) ->\r\n\t\tif iconName is \"\"\r\n\t\t\treturn\r\n\t\ticonUrl = 'img/' + iconName + '.png'\r\n\t\t$('#'+@tileId+\" .sqSceneButtonIcon\").html(\"<img src=#{iconUrl} style='height:100%'></img>\")\r\n\r\n\t\t# Create new offscreen image get size from\r\n\t\ttestImage = new Image()\r\n\t\ttestImage.src = iconUrl\r\n\t\t@iconSize = [testImage.width, testImage.height]\r\n\t\treturn\r\n\r\n\tsetText: (@textStr) ->\r\n\t\t$('#'+@tileId+\" .sqSceneButtonText\").html @textStr\r\n\t\treturn\r\n"
  ]
}