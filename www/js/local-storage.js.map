{
  "version": 3,
  "file": "local-storage.js",
  "sourceRoot": "../../",
  "sources": [
    "www/js/local-storage.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "class App.LocalStorage\r\n\r\n\t@get: (key) ->\r\n\t\trslt = null\r\n\t\tif window.Storage and window.JSON\r\n\t\t\titem = localStorage.getItem(key)\r\n\t\t\trslt = JSON.parse(item) if item\r\n\t\treturn rslt\r\n\r\n\t@set: (key, value) ->\r\n\t\tif window.Storage and window.JSON\r\n\t\t\tlocalStorage.setItem(key, JSON.stringify(value))\r\n\t\t\treturn true\r\n\t\treturn false\r\n\r\n\t@logEvent: (logKey, eventText, timestamp) ->\r\n\t\tnow = new Date()\r\n\t\ttimestamp = if timestamp? then timestamp else now\r\n\t\tconsole.log \"local-storage LogEvent: \" + logKey + \" text \" + eventText + \" time \" + timestamp\r\n\t\tlogData = @get(logKey)\r\n\t\tif logData?\r\n\t\t\twhile logData.length > 100\r\n\t\t\t\tlogData.shift()\r\n\t\telse\r\n\t\t\tlogData = []\r\n\t\tlogData.push\r\n\t\t\ttimestamp: timestamp\r\n\t\t\teventText: eventText\r\n\t\t@set(logKey, logData)\r\n\t\treturn\r\n\r\n\t@formatDate: (d) ->\r\n\t\treturn d.getFullYear() + \"/\" + @padZero(d.getMonth()+1,2) + \"/\" + @padZero(d.getDate(),2) +\r\n\t\t\t\" \" + @padZero(d.getHours(),2) + \":\" + @padZero(d.getMinutes(),2) + \":\" + @padZero(d.getSeconds(),2)\r\n\r\n\t@padZero: (val, zeroes) ->\r\n\t\treturn(\"00000000\" + val).slice(-zeroes)\r\n\r\n\t@getEventsText: (logKey) ->\r\n\t\tlogData = @get(logKey)\r\n\t\tif not logData?\r\n\t\t\treturn \"\"\r\n\t\toutStr = \"\"\r\n\t\tfor ev in logData\r\n\t\t\toutStr += ev.timestamp + \" \" + ev.eventText + \"\\n\"\r\n\t\treturn outStr\r\n\r\n\t@getEvent: (logKey) ->\r\n\t\tlogData = @get(logKey)\r\n\t\tif not logData?\r\n\t\t\treturn null\r\n\t\tif logData.length <= 0\r\n\t\t\treturn null\r\n\t\tretEv = logData.shift()\r\n\t\t@set(logKey, logData)\r\n\t\treturn retEv\r\n"
  ]
}